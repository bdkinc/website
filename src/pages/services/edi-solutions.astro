---
import { getEntry } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation';
import { getNavigationData } from '@/lib/navigation-data';
import { iconMap } from '@/lib/icons';
import { ServiceCard, ServiceCardGrid } from '@/components/ServiceCard';
import ImpactMetricsSection from '@/components/ImpactMetricsSection.astro';
import CTASection from '@/components/CTASection';
import { Card } from '@/components/ui/card';
import {
  TrendingUp,
  Zap,
  DollarSign,
  CheckCircle2,
  Users,
  ShoppingCart,
  Eye,
  Mail,
} from 'lucide-react';
import { Logo } from '@/components/Logo';
import Footer from '@/components/Footer.astro';

const service = await getEntry('services', 'edi-solutions');
if (!service) {
  return new Response(null, { status: 404 });
}
const { servicesData, recentPosts } = await getNavigationData();
const IconComponent = iconMap[service.data.icon];
const title = service.data.title;
const titleWords = title.split(' ');
const lastTitleWord = titleWords.pop();
const titleFirst = titleWords.join(' ');

const metrics = [
  { value: '250+', label: 'RETAIL CONNECTIONS', icon: ShoppingCart },
  { value: '99.8%', label: 'DOCUMENT ACCURACY', icon: CheckCircle2 },
  { value: '48H', label: 'AVERAGE ONBOARDING', icon: Zap },
  { value: '24/7', label: 'TRANSACTION MONITORING', icon: Eye },
];

const detailColumns = [
  {
    title: 'Retail Integration',
    icon: ShoppingCart,
    items: [
      'Certified maps for national retailers, distributors, and 3PL networks',
      'Automated testing validates compliance before every partner go-live',
      'Dashboards show chargebacks, ASN status, and partner scorecards in real time',
    ],
  },
  {
    title: 'Operational Support',
    icon: Users,
    items: [
      'Managed VAN and API connectivity with proactive transaction monitoring',
      'Exception workflows resolve failed documents before SLAs are missed',
      'Analytics surface trends across orders, invoices, and inventory feeds',
    ],
  },
];
---

<Layout
  title={`${service.data.title} - BDKinc`}
  description={service.data.description}
>
  <Navigation
    client:load
    services={servicesData}
    blogPosts={recentPosts}
    currentPath={Astro.url.pathname}
  />
  <main id="main-content">
    <!-- Hero Section -->
    <section class="relative overflow-hidden px-4 pt-24 pb-12 sm:px-6 lg:px-8">
      <div class="gradient-mesh absolute inset-0 opacity-30"></div>
      <div class="circuit-overlay absolute inset-0 opacity-40"></div>
      <div class="relative z-10 mx-auto max-w-7xl">
        <div class="text-center">
          <div
            class="from-primary/10 to-secondary/10 mb-6 inline-flex items-center justify-center rounded-2xl bg-linear-to-br p-4 delay-100 duration-500"
            transition:name={`service-icon-${service.id}`}
          >
            <IconComponent
              className="text-primary h-12 w-12"
              aria-hidden="true"
            />
          </div>
          <h1
            class="mb-6 text-5xl font-bold md:text-6xl"
            transition:name={`service-title-${service.id}`}
            transition:animate="initial"
          >
            <span class="text-foreground"
              >{titleFirst ? `${titleFirst} ` : ''}</span
            >
            <span
              class="from-primary to-secondary bg-linear-to-br bg-clip-text text-transparent"
              >{lastTitleWord}</span
            >
          </h1>
          <p
            class="text-muted-foreground mx-auto mb-12 max-w-3xl text-xl"
            transition:name={`service-description-${service.id}`}
            transition:animate="initial"
          >
            {service.data.description}
          </p>
        </div>

        {/* Hero Image Placeholder */}
        <div
          class="fill-mode-both animate-in fade-in zoom-in delay-300 duration-700"
        >
          <div
            class="glass border-primary/20 mx-auto max-w-5xl overflow-hidden rounded-2xl border shadow-lg"
          >
            <div
              class="from-primary/5 via-secondary/5 to-primary/5 flex aspect-video items-center justify-center bg-linear-to-br"
            >
              <div class="text-center">
                <div
                  class="text-muted-foreground/40 mb-2 text-sm font-medium tracking-wider uppercase"
                >
                  Service Hero Image
                </div>
                <div class="text-muted-foreground/60 text-lg">
                  EDI Solutions Illustration
                </div>
                <div class="text-muted-foreground/40 mt-2 text-xs">
                  Recommended: 1400x800px
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="from-brand-primary to-brand-secondary absolute right-0 bottom-0 left-0 h-2 bg-linear-to-br"
      >
      </div>
    </section>

    <!-- Content Section -->
    <section class="px-4 py-24 sm:px-6 lg:px-8">
      <div
        class="animate-in fade-in slide-in-from-bottom-4 fill-mode-both space-y-12 delay-600 duration-700"
      >
        <div class="mx-auto max-w-7xl">
          <div class="service-content-wrapper">
            <div class="not-prose mx-auto max-w-4xl">
              <h2 class="text-foreground mb-6 text-center text-3xl font-bold">
                Expand Your Retail Reach with EDI
              </h2>
              <div
                class="text-muted-foreground mb-10 text-center text-lg leading-relaxed"
              >
                Seamless retail integration through Electronic Data Interchange.
                We help you connect with trading partners and streamline your
                supply chain operations, enabling you to expand product
                visibility and sales across multiple retail channels.
              </div>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              Unlock Retail Opportunities
            </h3>

            <ServiceCardGrid>
              <ServiceCard>
                <div class="mb-6">
                  <ShoppingCart
                    className="text-primary h-16 w-16"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Connect with Retailers
                </h4>
                <div class="text-foreground leading-relaxed">
                  Our EDI solutions integrate with major retail platforms,
                  giving your products visibility in markets you couldn't reach
                  before. From regional chains to national retailers.
                </div>
              </ServiceCard>

              <ServiceCard>
                <div class="mb-6">
                  <Zap className="text-primary h-16 w-16" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Automate Order Processing
                </h4>
                <div class="text-foreground leading-relaxed">
                  Stop manually processing orders and reduce errors. EDI
                  automates the exchange of business documents—purchase orders,
                  invoices, shipping notices, and more.
                </div>
              </ServiceCard>

              <ServiceCard>
                <div class="mb-6">
                  <Eye className="text-primary h-16 w-16" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Real-Time Visibility
                </h4>
                <div class="text-foreground leading-relaxed">
                  Track orders, shipments, and inventory levels in real-time.
                  EDI provides the visibility you need to manage your supply
                  chain effectively and respond quickly to customer demands.
                </div>
              </ServiceCard>
            </ServiceCardGrid>

            <h3
              class="text-foreground mt-12 mb-6 text-center text-2xl font-bold"
            >
              Our EDI Services
            </h3>

            <div class="not-prose mb-20">
              <p class="text-muted-foreground mb-10 text-center text-xl">
                Comprehensive EDI solutions to connect your business with the
                retail ecosystem
              </p>

              {/* Feature Image Placeholder */}
              <div class="mb-10">
                <div
                  class="glass border-primary/20 mx-auto max-w-4xl overflow-hidden rounded-2xl border"
                >
                  <div
                    class="from-primary/5 via-secondary/5 to-primary/5 flex items-center justify-center bg-linear-to-br"
                    style="aspect-ratio: 21/9;"
                  >
                    <div class="text-center">
                      <div
                        class="text-muted-foreground/40 mb-2 text-sm font-medium tracking-wider uppercase"
                      >
                        Feature Image
                      </div>
                      <div class="text-muted-foreground/60 text-lg">
                        EDI Integration Network
                      </div>
                      <div class="text-muted-foreground/40 mt-2 text-xs">
                        Recommended: 1200x500px (21:9)
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="grid gap-6 md:grid-cols-2">
                <div
                  class="bg-background/50 border-border hover:border-primary flex items-start gap-4 rounded-lg border p-4 transition-colors"
                >
                  <div class="bg-primary mt-2 h-2 w-2 shrink-0 rounded-full">
                  </div>
                  <div>
                    <h5 class="text-foreground mb-1 text-lg font-bold">
                      Retail Integration Solutions
                    </h5>
                    <div class="text-muted-foreground text-sm">
                      Connect with retail partners through industry-standard EDI
                      protocols. Whether you're working with one retailer or
                      dozens, we manage the technical connections.
                    </div>
                  </div>
                </div>

                <div
                  class="bg-background/50 border-border hover:border-primary flex items-start gap-4 rounded-lg border p-4 transition-colors"
                >
                  <div class="bg-primary mt-2 h-2 w-2 shrink-0 rounded-full">
                  </div>
                  <div>
                    <h5 class="text-foreground mb-1 text-lg font-bold">
                      Supply Chain Optimization
                    </h5>
                    <div class="text-muted-foreground text-sm">
                      EDI isn't just about data exchange—it's about optimizing
                      your entire supply chain. We help streamline processes and
                      improve accuracy throughout your operation.
                    </div>
                  </div>
                </div>

                <div
                  class="bg-background/50 border-border hover:border-primary flex items-start gap-4 rounded-lg border p-4 transition-colors"
                >
                  <div class="bg-primary mt-2 h-2 w-2 shrink-0 rounded-full">
                  </div>
                  <div>
                    <h5 class="text-foreground mb-1 text-lg font-bold">
                      Trading Partner Connectivity
                    </h5>
                    <div class="text-muted-foreground text-sm">
                      Each trading partner has unique requirements and formats.
                      We handle the complexity of managing multiple EDI
                      connections ensuring reliable communication.
                    </div>
                  </div>
                </div>

                <div
                  class="bg-background/50 border-border hover:border-primary flex items-start gap-4 rounded-lg border p-4 transition-colors"
                >
                  <div class="bg-primary mt-2 h-2 w-2 shrink-0 rounded-full">
                  </div>
                  <div>
                    <h5 class="text-foreground mb-1 text-lg font-bold">
                      Compliance & Standards
                    </h5>
                    <div class="text-muted-foreground text-sm">
                      Meet retailer EDI requirements and industry standards with
                      our proven solutions and expertise in EDI compliance.
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              Key Benefits
            </h3>

            <div
              class="not-prose mb-20 grid gap-6 md:grid-cols-2 lg:grid-cols-3"
            >
              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <TrendingUp
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Expand Market Reach
                </h4>
                <div class="text-muted-foreground">
                  Access new retail channels and grow your customer base
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <CheckCircle2
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Reduce Errors
                </h4>
                <div class="text-muted-foreground">
                  Automated data exchange eliminates manual entry mistakes
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Zap className="text-primary h-10 w-10" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Faster Processing
                </h4>
                <div class="text-muted-foreground">
                  Real-time document exchange speeds up order fulfillment
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <DollarSign
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Lower Costs
                </h4>
                <div class="text-muted-foreground">
                  Reduce paper, postage, and manual processing expenses
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Users
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Improve Relationships
                </h4>
                <div class="text-muted-foreground">
                  Meet partner requirements and strengthen business
                  relationships
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Eye className="text-primary h-10 w-10" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Better Visibility
                </h4>
                <div class="text-muted-foreground">
                  Real-time tracking and reporting improve decision-making
                </div>
              </Card>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              How We Support Your EDI Program
            </h3>

            <div class="not-prose mb-20 grid gap-8 md:grid-cols-2">
              {
                detailColumns.map((column) => (
                  <div class="glass border-border rounded-2xl border p-8">
                    <div class="mb-6 flex items-center gap-3">
                      <column.icon
                        className="text-primary h-8 w-8"
                        aria-hidden="true"
                      />
                      <h4 class="text-foreground text-2xl font-bold">
                        {column.title}
                      </h4>
                    </div>
                    <div class="text-muted-foreground space-y-3">
                      {column.items.map((item) => (
                        <div class="flex items-start gap-2">
                          <CheckCircle2
                            className="text-primary mt-1 h-5 w-5 shrink-0"
                            aria-hidden="true"
                          />
                          <span>{item}</span>
                        </div>
                      ))}
                    </div>
                  </div>
                ))
              }
            </div>
          </div>
        </div>

        <ImpactMetricsSection metrics={metrics} />

        <CTASection
          client:load
          title="Why Choose BDK for EDI?"
          description="With decades of experience connecting businesses with trading partners, we understand both the technical and business aspects of EDI. We don't just set up connections—we help you leverage EDI to streamline B2B operations, reach new markets, and strengthen relationships across your partner network. Our team handles the complexity so you can focus on growth."
          primaryAction={{
            text: 'Talk to an EDI Expert',
            href: '/contact?from=edi-solutions',
            icon: 'sparkles',
          }}
        />
      </div>
    </section>
  </main>

  <Footer />
</Layout>
