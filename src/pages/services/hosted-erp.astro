---
import { getEntry } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation';
import { getNavigationData } from '@/lib/navigation-data';
import { iconMap } from '@/lib/icons';
import { ServiceCard, ServiceCardGrid } from '@/components/ServiceCard';
import ImpactMetricsSection from '@/components/ImpactMetricsSection.astro';
import CTASection from '@/components/CTASection';
import { Card } from '@/components/ui/card';
import {
  Server,
  Network,
  Database,
  TrendingUp,
  DollarSign,
  Lock,
  Zap,
  CheckCircle2,
  Factory,
  Truck,
  Calculator,
  FileSpreadsheet,
  HeadphonesIcon,
  Mail,
} from 'lucide-react';
import { Logo } from '@/components/Logo';
import Footer from '@/components/Footer.astro';

const service = await getEntry('services', 'hosted-erp');
if (!service) {
  return new Response(null, { status: 404 });
}
const { servicesData, recentPosts } = await getNavigationData();
const IconComponent = iconMap[service.data.icon];
const title = service.data.title;
const titleWords = title.split(' ');
const lastTitleWord = titleWords.pop();
const titleFirst = titleWords.join(' ');

const metrics = [
  { value: '35%', label: 'PROCESS EFFICIENCY', icon: TrendingUp },
  { value: '99.9%', label: 'HOSTED UPTIME', icon: Lock },
  { value: '180+', label: 'ERP INTEGRATIONS', icon: Network },
  { value: '24/7', label: 'SUPPORT COVERAGE', icon: HeadphonesIcon },
];

const detailColumns = [
  {
    title: 'Implementation & Migration',
    icon: FileSpreadsheet,
    items: [
      'Fit-gap workshops align ERP modules with manufacturing and distribution goals',
      'Data migration playbooks cleanse, convert, and reconcile legacy records',
      'Integration accelerators connect ERP with CRM, MES, WMS, and financial tools',
    ],
  },
  {
    title: 'Managed Operations',
    icon: Server,
    items: [
      '24/7 monitoring covers backups, patching, and performance tuning',
      'Change management governs updates, tax tables, and regulatory enhancements',
      'CFO-ready reporting tracks KPIs, compliance deadlines, and audit trails',
    ],
  },
];
---

<Layout
  title={`${service.data.title} - BDKinc`}
  description={service.data.description}
>
  <Navigation
    client:load
    services={servicesData}
    blogPosts={recentPosts}
    currentPath={Astro.url.pathname}
  />
  <main id="main-content">
    <!-- Hero Section -->
    <section class="relative overflow-hidden px-4 pt-24 pb-12 sm:px-6 lg:px-8">
      <div class="gradient-mesh absolute inset-0 opacity-30"></div>
      <div class="circuit-overlay absolute inset-0 opacity-40"></div>
      <div class="relative z-10 mx-auto max-w-7xl">
        <div class="text-center">
          <div
            class="from-primary/10 to-secondary/10 mb-6 inline-flex items-center justify-center rounded-2xl bg-linear-to-br p-4 delay-100 duration-500"
            transition:name={`service-icon-${service.id}`}
          >
            <IconComponent
              className="text-primary h-12 w-12"
              aria-hidden="true"
            />
          </div>
          <h1
            class="mb-6 text-5xl font-bold md:text-6xl"
            transition:name={`service-title-${service.id}`}
            transition:animate="initial"
          >
            <span class="text-foreground">
              {titleFirst ? `${titleFirst} ` : ''}
            </span>
            <span
              class="from-primary to-secondary bg-linear-to-br bg-clip-text text-transparent"
              >{lastTitleWord}</span
            >
          </h1>
          <p
            transition:name={`service-description-${service.id}`}
            transition:animate="initial"
            class="text-muted-foreground mx-auto mb-12 max-w-3xl text-xl"
          >
            {service.data.description}
          </p>
        </div>

        {/* Hero Image Placeholder */}
        <div
          class="fill-mode-both animate-in fade-in zoom-in delay-300 duration-700"
        >
          <div
            class="glass border-primary/20 mx-auto max-w-5xl overflow-hidden rounded-2xl border shadow-lg"
          >
            <div
              class="from-primary/5 via-secondary/5 to-primary/5 flex aspect-video items-center justify-center bg-linear-to-br"
            >
              <div class="text-center">
                <div
                  class="text-muted-foreground/40 mb-2 text-sm font-medium tracking-wider uppercase"
                >
                  Service Hero Image
                </div>
                <div class="text-muted-foreground/60 text-lg">
                  Hosted ERP Illustration
                </div>
                <div class="text-muted-foreground/40 mt-2 text-xs">
                  Recommended: 1400x800px
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="from-brand-primary to-brand-secondary absolute right-0 bottom-0 left-0 h-2 bg-linear-to-br"
      >
      </div>
    </section>

    <!-- Content Section -->
    <section class="px-4 py-24 sm:px-6 lg:px-8">
      <div
        class="animate-in fade-in slide-in-from-bottom-4 fill-mode-both space-y-12 delay-600 duration-700"
      >
        <div class="mx-auto max-w-7xl">
          <div class="service-content-wrapper">
            <div class="not-prose mx-auto max-w-4xl">
              <h2 class="text-foreground mb-6 text-center text-3xl font-bold">
                Streamline Your Business with Hosted ERP
              </h2>
              <div
                class="text-muted-foreground mb-10 text-center text-lg leading-relaxed"
              >
                Enterprise resource planning solutions tailored for
                manufacturing, distribution, and finance. We specialize in
                hosting and supporting your critical ERP systems, helping you
                transition from spreadsheet-based management to integrated,
                efficient business processes.
              </div>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              Transform Your Operations
            </h3>

            <ServiceCardGrid>
              <ServiceCard>
                <div class="mb-6">
                  <FileSpreadsheet
                    className="text-primary h-16 w-16"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Leave Spreadsheets Behind
                </h4>
                <div class="text-foreground leading-relaxed">
                  Stop managing your business with disconnected spreadsheets and
                  manual processes. Our integrated ERP solutions connect your
                  entire operation from inventory to accounting.
                </div>
              </ServiceCard>

              <ServiceCard>
                <div class="mb-6">
                  <Network
                    className="text-primary h-16 w-16"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Fully Hosted & Managed
                </h4>
                <div class="text-foreground leading-relaxed">
                  We handle all the infrastructure, maintenance, and updates.
                  Your ERP runs in our secure environment while you focus on
                  using it to run your business.
                </div>
              </ServiceCard>

              <ServiceCard>
                <div class="mb-6">
                  <Calculator
                    className="text-primary h-16 w-16"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-4 text-2xl font-bold">
                  Finance Integration
                </h4>
                <div class="text-foreground leading-relaxed">
                  Seamlessly connect your financial systems with operations.
                  Real-time visibility into costs, revenue, and profitability
                  helps you make informed decisions.
                </div>
              </ServiceCard>
            </ServiceCardGrid>

            <h3
              class="text-foreground mt-12 mb-6 text-center text-2xl font-bold"
            >
              Industry-Focused Solutions
            </h3>

            <div class="not-prose mb-20">
              <p class="text-muted-foreground mb-10 text-center text-xl">
                We specialize in ERP implementations for key industries
              </p>

              {/* Feature Image Placeholder */}
              <div class="mb-10">
                <div
                  class="glass border-primary/20 mx-auto max-w-4xl overflow-hidden rounded-2xl border"
                >
                  <div
                    class="from-primary/5 via-secondary/5 to-primary/5 flex items-center justify-center bg-linear-to-br"
                    style="aspect-ratio: 21/9;"
                  >
                    <div class="text-center">
                      <div
                        class="text-muted-foreground/40 mb-2 text-sm font-medium tracking-wider uppercase"
                      >
                        Feature Image
                      </div>
                      <div class="text-muted-foreground/60 text-lg">
                        ERP System Dashboard
                      </div>
                      <div class="text-muted-foreground/40 mt-2 text-xs">
                        Recommended: 1200x500px (21:9)
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="grid gap-6 md:grid-cols-3">
                <div
                  class="bg-background/50 border-border hover:border-primary flex flex-col items-center rounded-lg border p-6 text-center transition-colors"
                >
                  <Factory
                    className="text-primary mb-4 h-12 w-12"
                    aria-hidden="true"
                  />
                  <h5 class="text-foreground mb-2 text-lg font-bold">
                    Manufacturing
                  </h5>
                  <div class="text-muted-foreground text-sm">
                    Production planning, inventory control, quality management
                  </div>
                </div>

                <div
                  class="bg-background/50 border-border hover:border-primary flex flex-col items-center rounded-lg border p-6 text-center transition-colors"
                >
                  <Truck
                    className="text-primary mb-4 h-12 w-12"
                    aria-hidden="true"
                  />
                  <h5 class="text-foreground mb-2 text-lg font-bold">
                    Distribution
                  </h5>
                  <div class="text-muted-foreground text-sm">
                    Warehouse management, order processing, logistics
                  </div>
                </div>

                <div
                  class="bg-background/50 border-border hover:border-primary flex flex-col items-center rounded-lg border p-6 text-center transition-colors"
                >
                  <Calculator
                    className="text-primary mb-4 h-12 w-12"
                    aria-hidden="true"
                  />
                  <h5 class="text-foreground mb-2 text-lg font-bold">
                    Finance
                  </h5>
                  <div class="text-muted-foreground text-sm">
                    Accounting, financial reporting, compliance
                  </div>
                </div>
              </div>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              Key Benefits
            </h3>

            <div
              class="not-prose mb-20 grid gap-6 md:grid-cols-2 lg:grid-cols-3"
            >
              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <TrendingUp
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Real-Time Visibility
                </h4>
                <div class="text-muted-foreground">
                  Access up-to-date information across all business functions
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Zap className="text-primary h-10 w-10" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Improved Efficiency
                </h4>
                <div class="text-muted-foreground">
                  Automate processes and eliminate manual data entry
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <CheckCircle2
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Better Decision Making
                </h4>
                <div class="text-muted-foreground">
                  Accurate, timely data supports informed business decisions
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Database
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Scalability
                </h4>
                <div class="text-muted-foreground">
                  Systems that grow with your business
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <DollarSign
                    className="text-primary h-10 w-10"
                    aria-hidden="true"
                  />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Cost Effective
                </h4>
                <div class="text-muted-foreground">
                  Hosted solutions eliminate expensive infrastructure
                  investments
                </div>
              </Card>

              <Card
                size="default"
                interactive={false}
                className="flex flex-col items-center text-center"
              >
                <div class="mb-4">
                  <Lock className="text-primary h-10 w-10" aria-hidden="true" />
                </div>
                <h4 class="text-foreground mb-2 text-xl font-bold">
                  Data Security
                </h4>
                <div class="text-muted-foreground">
                  Enterprise-grade security and regular backups protect your
                  business data
                </div>
              </Card>
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              How We Run Your ERP
            </h3>

            <div class="not-prose mb-20 grid gap-8 md:grid-cols-2">
              {
                detailColumns.map((column) => (
                  <div class="glass border-border rounded-2xl border p-8">
                    <div class="mb-6 flex items-center gap-3">
                      <column.icon
                        className="text-primary h-8 w-8"
                        aria-hidden="true"
                      />
                      <h4 class="text-foreground text-2xl font-bold">
                        {column.title}
                      </h4>
                    </div>
                    <div class="text-muted-foreground space-y-3">
                      {column.items.map((item) => (
                        <div class="flex items-start gap-2">
                          <CheckCircle2
                            className="text-primary mt-1 h-5 w-5 shrink-0"
                            aria-hidden="true"
                          />
                          <span>{item}</span>
                        </div>
                      ))}
                    </div>
                  </div>
                ))
              }
            </div>

            <h3 class="text-foreground mb-6 text-center text-2xl font-bold">
              Our Hosted ERP Services
            </h3>

            <div class="not-prose mb-20 grid gap-8 md:grid-cols-2">
              {/* Left: Image Placeholder */}
              <div
                class="glass border-primary/20 overflow-hidden rounded-2xl border"
              >
                <div
                  class="from-primary/5 via-secondary/5 to-primary/5 flex h-full min-h-[300px] items-center justify-center bg-linear-to-br"
                >
                  <div class="text-center">
                    <div
                      class="text-muted-foreground/40 mb-2 text-sm font-medium tracking-wider uppercase"
                    >
                      Service Image
                    </div>
                    <div class="text-muted-foreground/60 text-lg">
                      ERP Implementation
                    </div>
                    <div class="text-muted-foreground/40 mt-2 text-xs">
                      Recommended: 600x400px
                    </div>
                  </div>
                </div>
              </div>

              {/* Right: Text Card */}
              <Card
                size="default"
                interactive={false}
                className="flex items-center"
              >
                <div class="grid gap-8 md:grid-cols-1">
                  <div>
                    <h4 class="text-foreground mb-4 text-2xl font-bold">
                      Implementation & Support
                    </h4>
                    <div class="text-foreground leading-relaxed">
                      From initial setup to ongoing optimization, our team
                      provides expert guidance. We help you configure the system
                      to match your business processes and train your team to
                      use it effectively.
                    </div>
                  </div>
                  <div>
                    <h4 class="text-foreground mb-4 text-2xl font-bold">
                      Expert Support
                    </h4>
                    <div class="text-foreground leading-relaxed">
                      Dedicated team with deep ERP and industry knowledge
                      ensures your system delivers maximum value. We don't just
                      host your software—we partner with you for success.
                    </div>
                  </div>
                </div>
              </Card>
            </div>
          </div>
        </div>

        <ImpactMetricsSection metrics={metrics} />

        <CTASection
          client:load
          title="Why Choose BDK for Hosted ERP?"
          description="We combine ERP expertise with managed hosting services, giving you a complete solution. Our team understands both the technical aspects of ERP systems and the business processes they support. We don't just host your software—we partner with you to ensure it delivers maximum value to your business."
          primaryAction={{
            text: 'Start Your ERP Journey',
            href: '/contact',
          }}
        />
      </div>
    </section>
  </main>

  <Footer />
</Layout>
