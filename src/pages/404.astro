---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation';
import { Logo } from '@/components/Logo';
import Footer from '@/components/Footer.astro';
import CTAButton from '@/components/CTAButton';
import { Card } from '@/components/ui/card';
import { getNavigationData } from '@/lib/navigation-data';
import { AlertCircle, Home, ArrowLeft } from 'lucide-react';

const { servicesData, recentPosts } = await getNavigationData();
---

<Layout title="404 - Page Not Found | BDKinc">
  <Navigation
    client:load
    services={servicesData}
    blogPosts={recentPosts}
    currentPath={Astro.url.pathname}
  />

  <main id="main-content">
    <!-- 404 Hero Section -->
    <section
      class="relative flex min-h-screen items-center justify-center overflow-hidden px-4 py-16 sm:px-6 lg:px-8"
    >
      <!-- Background Effects -->
      <div class="gradient-mesh absolute inset-0 opacity-50"></div>
      <div class="circuit-overlay absolute inset-0 opacity-30"></div>

      <!-- Floating decorative elements -->
      <div
        class="bg-brand-primary/10 animate-float absolute top-20 left-10 h-20 w-20 rounded-full blur-xl"
      >
      </div>
      <div
        class="bg-brand-secondary/10 animate-float absolute right-10 bottom-20 h-32 w-32 rounded-full blur-xl"
        style="animation-delay: 2s;"
      >
      </div>

      <!-- Content -->
      <div class="relative z-10 mx-auto max-w-4xl text-center">
        <!-- Error Icon with animation -->
        <div
          class="animate-in fade-in slide-in-from-bottom-4 fill-mode-both mb-8 duration-500"
        >
          <div class="inline-flex items-center justify-center">
            <AlertCircle className="icon-xl text-brand-primary animate-float" />
          </div>
        </div>

        <!-- 404 Number -->
        <h1
          class="text-foreground animate-in fade-in slide-in-from-bottom-4 fill-mode-both mb-4 text-7xl font-bold duration-500 md:text-9xl"
          style="animation-delay: 100ms;"
        >
          404
        </h1>

        <!-- Error Message -->
        <h2
          class="text-foreground animate-in fade-in slide-in-from-bottom-4 fill-mode-both mb-6 text-3xl font-bold duration-500 md:text-5xl"
          style="animation-delay: 200ms;"
        >
          Page Not Found
        </h2>

        <!-- Description Card -->
        <div
          class="animate-in fade-in slide-in-from-bottom-4 fill-mode-both mb-12 duration-500"
          style="animation-delay: 300ms;"
        >
          <Card size="lg" interactive={false} className="mx-auto max-w-2xl">
            <p class="text-muted-foreground mb-6 text-lg">
              The page you're looking for seems to have wandered off into the
              digital void. It might have been moved, deleted, or perhaps it
              never existed.
            </p>

            <div
              class="flex flex-col items-center justify-center gap-4 sm:flex-row"
            >
              <!-- Go Home Button -->
              <CTAButton
                href="/"
                icon="none"
                className="bg-brand-primary hover:bg-brand-primary/90 text-primary-foreground group w-full gap-2 sm:w-auto"
                aria-label="Return to homepage"
              >
                <Home
                  className="icon-sm transition-transform duration-300 group-hover:scale-110"
                />
                <span>Go Home</span>
              </CTAButton>

              <!-- Go Back Button -->
              <CTAButton
                icon="none"
                variant="outline"
                className="border-brand-primary text-brand-primary hover:bg-brand-primary/10 group w-full gap-2 sm:w-auto"
                type="button"
                data-back-button="true"
                aria-label="Go back to previous page"
              >
                <ArrowLeft
                  className="icon-sm transition-transform duration-300 group-hover:-translate-x-1"
                />
                <span>Go Back</span>
              </CTAButton>
            </div>
          </Card>
        </div>

        <!-- Helpful Links -->
        <div
          class="animate-in fade-in slide-in-from-bottom-4 fill-mode-both duration-500"
          style="animation-delay: 400ms;"
        >
          <p class="text-muted-foreground mb-4">
            Looking for something specific? Try these popular pages:
          </p>
          <div class="flex flex-wrap justify-center gap-3">
            <a
              href="/services"
              class="text-brand-primary hover:text-brand-primary/80 transition-colors duration-300"
              aria-label="View our services"
            >
              Services
            </a>
            <span class="text-muted-foreground/50">•</span>
            <a
              href="/about"
              class="text-brand-primary hover:text-brand-primary/80 transition-colors duration-300"
              aria-label="Learn about BDKinc"
            >
              About Us
            </a>
            <span class="text-muted-foreground/50">•</span>
            <a
              href="/blog"
              class="text-brand-primary hover:text-brand-primary/80 transition-colors duration-300"
              aria-label="Read our blog"
            >
              Blog
            </a>
            <span class="text-muted-foreground/50">•</span>
            <a
              href="/contact"
              class="text-brand-primary hover:text-brand-primary/80 transition-colors duration-300"
              aria-label="Contact us"
            >
              Contact
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  // Handle Go Back button click
  const backButton = document.querySelector('[data-back-button="true"]');
  if (backButton) {
    backButton.addEventListener('click', (event) => {
      event.preventDefault();
      window.history.back();
    });
  }
</script>
